import{d as ee,c as Q,a as c,s as Je,C as Xe,F as $e,o as be,D as ut,E as qe,m as ke,r as R,G as pt,q as ft,H as Re,I as gt,_ as mt,e as _e,f as P,J as we,h as G,A as yt,x as ge,j as je,i as me,B as ye,l as q}from"./index-C2blXwEK.js";import{K as ae,c as vt,d as ht,e as le}from"./index-DexdYQBf.js";import{o as Ge,u as bt,C as Ct,_ as xt,R as St,a as _t,b as wt}from"./ReloadOutlined-DoUCwVyo.js";import{i as Ot,T as Tt,s as Et,a as $t}from"./index-1PGfYYHc.js";import{g as Qe,m as kt,p as Pt,_ as u,r as It,q as Bt,u as Ce,f as xe,l as M,P as He,s as Dt,v as Nt,x as At,W as zt,h as Rt,n as Ie,y as jt,z as Oe,A as Le,D as Ye,F as Te,L as Ht,G as he,H as te,R as Lt,J as Mt,B as Ft,K as Wt}from"./Col-BQnMq_kH.js";import{_ as Ut,a as Vt}from"./index-BiZa2Idf.js";const ve=(e,n,o)=>{const t=Bt(o);return{[`${e.componentCls}-${n}`]:{color:e[`color${o}`],background:e[`color${t}Bg`],borderColor:e[`color${t}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},Kt=e=>Pt(e,(n,o)=>{let{textColor:t,lightBorderColor:l,lightColor:i,darkColor:r}=o;return{[`${e.componentCls}-${n}`]:{color:t,background:i,borderColor:l,"&-inverse":{color:e.colorTextLightSolid,background:r,borderColor:r},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),Jt=e=>{const{paddingXXS:n,lineWidth:o,tagPaddingHorizontal:t,componentCls:l}=e,i=t-o,r=n-o;return{[l]:u(u({},It(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:i,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${l}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${l}-close-icon`]:{marginInlineStart:r,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${l}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${l}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:i}}),[`${l}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},Ze=Qe("Tag",e=>{const{fontSize:n,lineHeight:o,lineWidth:t,fontSizeIcon:l}=e,i=Math.round(n*o),r=e.fontSizeSM,a=i-t*2,g=e.colorFillAlter,C=e.colorText,d=kt(e,{tagFontSize:r,tagLineHeight:a,tagDefaultBg:g,tagDefaultColor:C,tagIconSize:l-2*t,tagPaddingHorizontal:8,tagBorderlessBg:e.colorFillTertiary});return[Jt(d),Kt(d),ve(d,"success","Success"),ve(d,"processing","Info"),ve(d,"error","Error"),ve(d,"warning","Warning")]}),Xt=()=>({prefixCls:String,checked:{type:Boolean,default:void 0},onChange:{type:Function},onClick:{type:Function},"onUpdate:checked":Function}),Pe=ee({compatConfig:{MODE:3},name:"ACheckableTag",inheritAttrs:!1,props:Xt(),setup(e,n){let{slots:o,emit:t,attrs:l}=n;const{prefixCls:i}=Ce("tag",e),[r,a]=Ze(i),g=d=>{const{checked:$}=e;t("update:checked",!$),t("change",!$),t("click",d)},C=Q(()=>xe(i.value,a.value,{[`${i.value}-checkable`]:!0,[`${i.value}-checkable-checked`]:e.checked}));return()=>{var d;return r(c("span",M(M({},l),{},{class:[C.value,l.class],onClick:g}),[(d=o.default)===null||d===void 0?void 0:d.call(o)]))}}}),qt=()=>({prefixCls:String,color:{type:String},closable:{type:Boolean,default:!1},closeIcon:He.any,visible:{type:Boolean,default:void 0},onClose:{type:Function},onClick:Dt(),"onUpdate:visible":Function,icon:He.any,bordered:{type:Boolean,default:!0}}),ie=ee({compatConfig:{MODE:3},name:"ATag",inheritAttrs:!1,props:qt(),slots:Object,setup(e,n){let{slots:o,emit:t,attrs:l}=n;const{prefixCls:i,direction:r}=Ce("tag",e),[a,g]=Ze(i),C=Je(!0);Xe(()=>{e.visible!==void 0&&(C.value=e.visible)});const d=O=>{O.stopPropagation(),t("update:visible",!1),t("close",O),!O.defaultPrevented&&e.visible===void 0&&(C.value=!1)},$=Q(()=>Nt(e.color)||At(e.color)),h=Q(()=>xe(i.value,g.value,{[`${i.value}-${e.color}`]:$.value,[`${i.value}-has-color`]:e.color&&!$.value,[`${i.value}-hidden`]:!C.value,[`${i.value}-rtl`]:r.value==="rtl",[`${i.value}-borderless`]:!e.bordered})),I=O=>{t("click",O)};return()=>{var O,D,z;const{icon:N=(O=o.icon)===null||O===void 0?void 0:O.call(o),color:b,closeIcon:m=(D=o.closeIcon)===null||D===void 0?void 0:D.call(o),closable:S=!1}=e,x=()=>S?m?c("span",{class:`${i.value}-close-icon`,onClick:d},[m]):c(Rt,{class:`${i.value}-close-icon`,onClick:d},null):null,A={backgroundColor:b&&!$.value?b:void 0},F=N||null,v=(z=o.default)===null||z===void 0?void 0:z.call(o),f=F?c($e,null,[F,c("span",null,[v])]):v,_=e.onClick!==void 0,T=c("span",M(M({},l),{},{onClick:I,class:[h.value,l.class],style:[A,l.style]}),[f,x()]);return a(_?c(zt,null,{default:()=>[T]}):T)}}});ie.CheckableTag=Pe;ie.install=function(e){return e.component(ie.name,ie),e.component(Pe.name,Pe),e};var Gt=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)n.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(o[t[l]]=e[t[l]]);return o};const Qt={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},Me=ee({compatConfig:{MODE:3},name:"TransButton",inheritAttrs:!1,props:{noStyle:{type:Boolean,default:void 0},onClick:Function,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0}},setup(e,n){let{slots:o,emit:t,attrs:l,expose:i}=n;const r=Je(),a=h=>{const{keyCode:I}=h;I===ae.ENTER&&h.preventDefault()},g=h=>{const{keyCode:I}=h;I===ae.ENTER&&t("click",h)},C=h=>{t("click",h)},d=()=>{r.value&&r.value.focus()},$=()=>{r.value&&r.value.blur()};return be(()=>{e.autofocus&&d()}),i({focus:d,blur:$}),()=>{var h;const{noStyle:I,disabled:O}=e,D=Gt(e,["noStyle","disabled"]);let z={};return I||(z=u({},Qt)),O&&(z.pointerEvents="none"),c("div",M(M(M({role:"button",tabindex:0,ref:r},D),l),{},{onClick:C,onKeydown:a,onKeyup:g,style:u(u({},z),l.style||{})}),[(h=o.default)===null||h===void 0?void 0:h.call(o)])}}});var Yt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};function Fe(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?Object(arguments[n]):{},t=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(l){return Object.getOwnPropertyDescriptor(o,l).enumerable}))),t.forEach(function(l){Zt(e,l,o[l])})}return e}function Zt(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}var Be=function(n,o){var t=Fe({},n,o.attrs);return c(Ie,Fe({},t,{icon:Yt}),null)};Be.displayName="EnterOutlined";Be.inheritAttrs=!1;const en=(e,n,o,t)=>{const{sizeMarginHeadingVerticalEnd:l,fontWeightStrong:i}=t;return{marginBottom:l,color:o,fontWeight:i,fontSize:e,lineHeight:n}},tn=e=>{const n=[1,2,3,4,5],o={};return n.forEach(t=>{o[`
      h${t}&,
      div&-h${t},
      div&-h${t} > textarea,
      h${t}
    `]=en(e[`fontSizeHeading${t}`],e[`lineHeightHeading${t}`],e.colorTextHeading,e)}),o},nn=e=>{const{componentCls:n}=e;return{"a&, a":u(u({},Ge(e)),{textDecoration:e.linkDecoration,"&:active, &:hover":{textDecoration:e.linkHoverDecoration},[`&[disabled], &${n}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},on=()=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:jt[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),ln=e=>{const{componentCls:n}=e,t=Ot(e).inputPaddingVertical+1;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:-e.paddingSM,marginTop:-t,marginBottom:`calc(1em - ${t}px)`},[`${n}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.marginXS+2,insetBlockEnd:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},an=e=>({"&-copy-success":{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}}}),rn=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-single-line":{whiteSpace:"nowrap"},"&-ellipsis-single-line":{overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),sn=e=>{const{componentCls:n,sizeMarginHeadingVerticalStart:o}=e;return{[n]:u(u(u(u(u(u(u(u(u({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${n}-secondary`]:{color:e.colorTextDescription},[`&${n}-success`]:{color:e.colorSuccess},[`&${n}-warning`]:{color:e.colorWarning},[`&${n}-danger`]:{color:e.colorError,"a&:active, a&:focus":{color:e.colorErrorActive},"a&:hover":{color:e.colorErrorHover}},[`&${n}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},tn(e)),{[`
      & + h1${n},
      & + h2${n},
      & + h3${n},
      & + h4${n},
      & + h5${n}
      `]:{marginTop:o},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:o}}}),on()),nn(e)),{[`
        ${n}-expand,
        ${n}-edit,
        ${n}-copy
      `]:u(u({},Ge(e)),{marginInlineStart:e.marginXXS})}),ln(e)),an(e)),rn()),{"&-rtl":{direction:"rtl"}})}},et=Qe("Typography",e=>[sn(e)],{sizeMarginHeadingVerticalStart:"1.2em",sizeMarginHeadingVerticalEnd:"0.5em"}),cn=()=>({prefixCls:String,value:String,maxlength:Number,autoSize:{type:[Boolean,Object]},onSave:Function,onCancel:Function,onEnd:Function,onChange:Function,originContent:String,direction:String,component:String}),dn=ee({compatConfig:{MODE:3},name:"Editable",inheritAttrs:!1,props:cn(),setup(e,n){let{emit:o,slots:t,attrs:l}=n;const{prefixCls:i}=ut(e),r=qe({current:e.value||"",lastKeyCode:void 0,inComposition:!1,cancelFlag:!1});ke(()=>e.value,b=>{r.current=b});const a=R();be(()=>{var b;if(a.value){const m=(b=a.value)===null||b===void 0?void 0:b.resizableTextArea,S=m==null?void 0:m.textArea;S.focus();const{length:x}=S.value;S.setSelectionRange(x,x)}});function g(b){a.value=b}function C(b){let{target:{value:m}}=b;r.current=m.replace(/[\r\n]/g,""),o("change",r.current)}function d(){r.inComposition=!0}function $(){r.inComposition=!1}function h(b){const{keyCode:m}=b;m===ae.ENTER&&b.preventDefault(),!r.inComposition&&(r.lastKeyCode=m)}function I(b){const{keyCode:m,ctrlKey:S,altKey:x,metaKey:A,shiftKey:F}=b;r.lastKeyCode===m&&!r.inComposition&&!S&&!x&&!A&&!F&&(m===ae.ENTER?(D(),o("end")):m===ae.ESC&&(r.current=e.originContent,o("cancel")))}function O(){D()}function D(){o("save",r.current.trim())}const[z,N]=et(i);return()=>{const b=xe({[`${i.value}`]:!0,[`${i.value}-edit-content`]:!0,[`${i.value}-rtl`]:e.direction==="rtl",[e.component?`${i.value}-${e.component}`:""]:!0},l.class,N.value);return z(c("div",M(M({},l),{},{class:b}),[c(Tt,{ref:g,maxlength:e.maxlength,value:r.current,onChange:C,onKeydown:h,onKeyup:I,onCompositionstart:d,onCompositionend:$,onBlur:O,rows:1,autoSize:e.autoSize===void 0||e.autoSize},null),t.enterIcon?t.enterIcon({className:`${e.prefixCls}-edit-content-confirm`}):c(Be,{class:`${e.prefixCls}-edit-content-confirm`},null)]))}}}),un=3,pn=8;let H;const Ee={padding:0,margin:0,display:"inline",lineHeight:"inherit"};function tt(e,n){e.setAttribute("aria-hidden","true");const o=window.getComputedStyle(n),t=Et(o);e.setAttribute("style",t),e.style.position="fixed",e.style.left="0",e.style.height="auto",e.style.minHeight="auto",e.style.maxHeight="auto",e.style.paddingTop="0",e.style.paddingBottom="0",e.style.borderTopWidth="0",e.style.borderBottomWidth="0",e.style.top="-999999px",e.style.zIndex="-1000",e.style.textOverflow="clip",e.style.whiteSpace="normal",e.style.webkitLineClamp="none"}function fn(e){const n=document.createElement("div");tt(n,e),n.appendChild(document.createTextNode("text")),document.body.appendChild(n);const o=n.getBoundingClientRect().height;return document.body.removeChild(n),o}const gn=(e,n,o,t,l)=>{H||(H=document.createElement("div"),H.setAttribute("aria-hidden","true"),document.body.appendChild(H));const{rows:i,suffix:r=""}=n,a=fn(e),g=Math.round(a*i*100)/100;tt(H,e);const C=pt({render(){return c("div",{style:Ee},[c("span",{style:Ee},[o,r]),c("span",{style:Ee},[t])])}});C.mount(H);function d(){return Math.round(H.getBoundingClientRect().height*100)/100-.1<=g}if(d())return C.unmount(),{content:o,text:H.innerHTML,ellipsis:!1};const $=Array.prototype.slice.apply(H.childNodes[0].childNodes[0].cloneNode(!0).childNodes).filter(m=>{let{nodeType:S,data:x}=m;return S!==pn&&x!==""}),h=Array.prototype.slice.apply(H.childNodes[0].childNodes[1].cloneNode(!0).childNodes);C.unmount();const I=[];H.innerHTML="";const O=document.createElement("span");H.appendChild(O);const D=document.createTextNode(l+r);O.appendChild(D),h.forEach(m=>{H.appendChild(m)});function z(m){O.insertBefore(m,D)}function N(m,S){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S.length,F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;const v=Math.floor((x+A)/2),f=S.slice(0,v);if(m.textContent=f,x>=A-1)for(let _=A;_>=x;_-=1){const T=S.slice(0,_);if(m.textContent=T,d()||!T)return _===S.length?{finished:!1,vNode:S}:{finished:!0,vNode:T}}return d()?N(m,S,v,A,v):N(m,S,x,v,F)}function b(m){if(m.nodeType===un){const x=m.textContent||"",A=document.createTextNode(x);return z(A),N(A,x)}return{finished:!1,vNode:null}}return $.some(m=>{const{finished:S,vNode:x}=b(m);return x&&I.push(x),S}),{content:I,text:H.innerHTML,ellipsis:!0}};var mn=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)n.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(o[t[l]]=e[t[l]]);return o};const yn=()=>({prefixCls:String,direction:String,component:String}),L=ee({name:"ATypography",inheritAttrs:!1,props:yn(),setup(e,n){let{slots:o,attrs:t}=n;const{prefixCls:l,direction:i}=Ce("typography",e),[r,a]=et(l);return()=>{var g;const C=u(u({},e),t),{prefixCls:d,direction:$,component:h="article"}=C,I=mn(C,["prefixCls","direction","component"]);return r(c(h,M(M({},I),{},{class:xe(l.value,{[`${l.value}-rtl`]:i.value==="rtl"},t.class,a.value)}),{default:()=>[(g=o.default)===null||g===void 0?void 0:g.call(o)]}))}}}),vn=()=>{const e=document.getSelection();if(!e.rangeCount)return function(){};let n=document.activeElement;const o=[];for(let t=0;t<e.rangeCount;t++)o.push(e.getRangeAt(t));switch(n.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":n.blur();break;default:n=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||o.forEach(function(t){e.addRange(t)}),n&&n.focus()}},We={"text/plain":"Text","text/html":"Url",default:"Text"},hn="Copy to clipboard: #{key}, Enter";function bn(e){const n=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,n)}function Cn(e,n){let o,t,l,i,r,a=!1;n||(n={});const g=n.debug||!1;try{if(t=vn(),l=document.createRange(),i=document.getSelection(),r=document.createElement("span"),r.textContent=e,r.style.all="unset",r.style.position="fixed",r.style.top=0,r.style.clip="rect(0, 0, 0, 0)",r.style.whiteSpace="pre",r.style.webkitUserSelect="text",r.style.MozUserSelect="text",r.style.msUserSelect="text",r.style.userSelect="text",r.addEventListener("copy",function(d){if(d.stopPropagation(),n.format)if(d.preventDefault(),typeof d.clipboardData>"u"){g&&console.warn("unable to use e.clipboardData"),g&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();const $=We[n.format]||We.default;window.clipboardData.setData($,e)}else d.clipboardData.clearData(),d.clipboardData.setData(n.format,e);n.onCopy&&(d.preventDefault(),n.onCopy(d.clipboardData))}),document.body.appendChild(r),l.selectNodeContents(r),i.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");a=!0}catch(C){g&&console.error("unable to copy using execCommand: ",C),g&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(n.format||"text",e),n.onCopy&&n.onCopy(window.clipboardData),a=!0}catch(d){g&&console.error("unable to copy using clipboardData: ",d),g&&console.error("falling back to prompt"),o=bn("message"in n?n.message:hn),window.prompt(o,e)}}finally{i&&(typeof i.removeRange=="function"?i.removeRange(l):i.removeAllRanges()),r&&document.body.removeChild(r),t()}return a}var xn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};function Ue(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?Object(arguments[n]):{},t=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(l){return Object.getOwnPropertyDescriptor(o,l).enumerable}))),t.forEach(function(l){Sn(e,l,o[l])})}return e}function Sn(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}var De=function(n,o){var t=Ue({},n,o.attrs);return c(Ie,Ue({},t,{icon:xn}),null)};De.displayName="CopyOutlined";De.inheritAttrs=!1;var _n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};function Ve(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?Object(arguments[n]):{},t=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(l){return Object.getOwnPropertyDescriptor(o,l).enumerable}))),t.forEach(function(l){wn(e,l,o[l])})}return e}function wn(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}var Ne=function(n,o){var t=Ve({},n,o.attrs);return c(Ie,Ve({},t,{icon:_n}),null)};Ne.displayName="EditOutlined";Ne.inheritAttrs=!1;var On=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)n.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(o[t[l]]=e[t[l]]);return o};const Tn=Ye("webkitLineClamp"),En=Ye("textOverflow"),Ke="...",re=()=>({editable:{type:[Boolean,Object],default:void 0},copyable:{type:[Boolean,Object],default:void 0},prefixCls:String,component:String,type:String,disabled:{type:Boolean,default:void 0},ellipsis:{type:[Boolean,Object],default:void 0},code:{type:Boolean,default:void 0},mark:{type:Boolean,default:void 0},underline:{type:Boolean,default:void 0},delete:{type:Boolean,default:void 0},strong:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},content:String,"onUpdate:content":Function}),se=ee({compatConfig:{MODE:3},name:"TypographyBase",inheritAttrs:!1,props:re(),setup(e,n){let{slots:o,attrs:t,emit:l}=n;const{prefixCls:i,direction:r}=Ce("typography",e),a=qe({copied:!1,ellipsisText:"",ellipsisContent:null,isEllipsis:!1,expanded:!1,clientRendered:!1,expandStr:"",copyStr:"",copiedStr:"",editStr:"",copyId:void 0,rafId:void 0,prevProps:void 0,originContent:""}),g=R(),C=R(),d=Q(()=>{const s=e.ellipsis;return s?u({rows:1,expandable:!1},typeof s=="object"?s:null):{}});be(()=>{a.clientRendered=!0,v()}),ft(()=>{clearTimeout(a.copyId),Oe.cancel(a.rafId)}),ke([()=>d.value.rows,()=>e.content],()=>{Re(()=>{A()})},{flush:"post",deep:!0}),Xe(()=>{e.content===void 0&&(Le(!e.editable),Le(!e.ellipsis))});function $(){var s;return e.ellipsis||e.editable?e.content:(s=Te(g.value))===null||s===void 0?void 0:s.innerText}function h(s){const{onExpand:p}=d.value;a.expanded=!0,p==null||p(s)}function I(s){s.preventDefault(),a.originContent=e.content,x(!0)}function O(s){D(s),x(!1)}function D(s){const{onChange:p}=b.value;s!==e.content&&(l("update:content",s),p==null||p(s))}function z(){var s,p;(p=(s=b.value).onCancel)===null||p===void 0||p.call(s),x(!1)}function N(s){s.preventDefault(),s.stopPropagation();const{copyable:p}=e,y=u({},typeof p=="object"?p:null);y.text===void 0&&(y.text=$()),Cn(y.text||""),a.copied=!0,Re(()=>{y.onCopy&&y.onCopy(s),a.copyId=setTimeout(()=>{a.copied=!1},3e3)})}const b=Q(()=>{const s=e.editable;return s?u({},typeof s=="object"?s:null):{editing:!1}}),[m,S]=bt(!1,{value:Q(()=>b.value.editing)});function x(s){const{onStart:p}=b.value;s&&p&&p(),S(s)}ke(m,s=>{var p;s||(p=C.value)===null||p===void 0||p.focus()},{flush:"post"});function A(s){if(s){const{width:p,height:y}=s;if(!p||!y)return}Oe.cancel(a.rafId),a.rafId=Oe(()=>{v()})}const F=Q(()=>{const{rows:s,expandable:p,suffix:y,onEllipsis:k,tooltip:B}=d.value;return y||B||e.editable||e.copyable||p||k?!1:s===1?En:Tn}),v=()=>{const{ellipsisText:s,isEllipsis:p}=a,{rows:y,suffix:k,onEllipsis:B}=d.value;if(!y||y<0||!Te(g.value)||a.expanded||e.content===void 0||F.value)return;const{content:U,text:X,ellipsis:V}=gn(Te(g.value),{rows:y,suffix:k},e.content,W(!0),Ke);(s!==X||a.isEllipsis!==V)&&(a.ellipsisText=X,a.ellipsisContent=U,a.isEllipsis=V,p!==V&&B&&B(V))};function f(s,p){let{mark:y,code:k,underline:B,delete:U,strong:X,keyboard:V}=s,w=p;function E(K,j){if(!K)return;const pe=function(){return w}();w=c(j,null,{default:()=>[pe]})}return E(X,"strong"),E(B,"u"),E(U,"del"),E(k,"code"),E(y,"mark"),E(V,"kbd"),w}function _(s){const{expandable:p,symbol:y}=d.value;if(!p||!s&&(a.expanded||!a.isEllipsis))return null;const k=(o.ellipsisSymbol?o.ellipsisSymbol():y)||a.expandStr;return c("a",{key:"expand",class:`${i.value}-expand`,onClick:h,"aria-label":a.expandStr},[k])}function T(){if(!e.editable)return;const{tooltip:s,triggerType:p=["icon"]}=e.editable,y=o.editableIcon?o.editableIcon():c(Ne,{role:"button"},null),k=o.editableTooltip?o.editableTooltip():a.editStr,B=typeof k=="string"?k:"";return p.indexOf("icon")!==-1?c(he,{key:"edit",title:s===!1?"":k},{default:()=>[c(Me,{ref:C,class:`${i.value}-edit`,onClick:I,"aria-label":B},{default:()=>[y]})]}):null}function J(){if(!e.copyable)return;const{tooltip:s}=e.copyable,p=a.copied?a.copiedStr:a.copyStr,y=o.copyableTooltip?o.copyableTooltip({copied:a.copied}):p,k=typeof y=="string"?y:"",B=a.copied?c(Ct,null,null):c(De,null,null),U=o.copyableIcon?o.copyableIcon({copied:!!a.copied}):B;return c(he,{key:"copy",title:s===!1?"":y},{default:()=>[c(Me,{class:[`${i.value}-copy`,{[`${i.value}-copy-success`]:a.copied}],onClick:N,"aria-label":k},{default:()=>[U]})]})}function oe(){const{class:s,style:p}=t,{maxlength:y,autoSize:k,onEnd:B}=b.value;return c(dn,{class:s,style:p,prefixCls:i.value,value:e.content,originContent:a.originContent,maxlength:y,autoSize:k,onSave:O,onChange:D,onCancel:z,onEnd:B,direction:r.value,component:e.component},{enterIcon:o.editableEnterIcon})}function W(s){return[_(s),T(),J()].filter(p=>p)}return()=>{var s;const{triggerType:p=["icon"]}=b.value,y=e.ellipsis||e.editable?e.content!==void 0?e.content:(s=o.default)===null||s===void 0?void 0:s.call(o):o.default?o.default():e.content;return m.value?oe():c(Ht,{componentName:"Text",children:k=>{const B=u(u({},e),t),{type:U,disabled:X,content:V,class:w,style:E}=B,K=On(B,["type","disabled","content","class","style"]),{rows:j,suffix:pe,tooltip:Se}=d.value,{edit:nt,copy:ot,copied:lt,expand:at}=k;a.editStr=nt,a.copyStr=ot,a.copiedStr=lt,a.expandStr=at;const it=te(K,["prefixCls","editable","copyable","ellipsis","mark","code","delete","underline","strong","keyboard","onUpdate:content"]),fe=F.value,rt=j===1&&fe,Ae=j&&j>1&&fe;let Y=y,st;if(j&&a.isEllipsis&&!a.expanded&&!fe){const{title:ze}=K;let Z=ze||"";!ze&&(typeof y=="string"||typeof y=="number")&&(Z=String(y)),Z=Z==null?void 0:Z.slice(String(a.ellipsisContent||"").length),Y=c($e,null,[gt(a.ellipsisContent),c("span",{title:Z,"aria-hidden":"true"},[Ke]),pe])}else Y=c($e,null,[y,pe]);Y=f(e,Y);const ct=Se&&j&&a.isEllipsis&&!a.expanded&&!fe,dt=o.ellipsisTooltip?o.ellipsisTooltip():Se;return c(Lt,{onResize:A,disabled:!j},{default:()=>[c(L,M({ref:g,class:[{[`${i.value}-${U}`]:U,[`${i.value}-disabled`]:X,[`${i.value}-ellipsis`]:j,[`${i.value}-single-line`]:j===1&&!a.isEllipsis,[`${i.value}-ellipsis-single-line`]:rt,[`${i.value}-ellipsis-multiple-line`]:Ae},w],style:u(u({},E),{WebkitLineClamp:Ae?j:void 0}),"aria-label":st,direction:r.value,onClick:p.indexOf("text")!==-1?I:()=>{}},it),{default:()=>[ct?c(he,{title:Se===!0?y:dt},{default:()=>[c("span",null,[Y])]}):Y,W()]})]})}},null)}}});var $n=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)n.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(o[t[l]]=e[t[l]]);return o};const kn=()=>te(u(u({},re()),{ellipsis:{type:Boolean,default:void 0}}),["component"]),ce=(e,n)=>{let{slots:o,attrs:t}=n;const l=u(u({},e),t),{ellipsis:i,rel:r}=l,a=$n(l,["ellipsis","rel"]),g=u(u({},a),{rel:r===void 0&&a.target==="_blank"?"noopener noreferrer":r,ellipsis:!!i,component:"a"});return delete g.navigate,c(se,g,o)};ce.displayName="ATypographyLink";ce.inheritAttrs=!1;ce.props=kn();const Pn=()=>te(re(),["component"]),de=(e,n)=>{let{slots:o,attrs:t}=n;const l=u(u(u({},e),{component:"div"}),t);return c(se,l,o)};de.displayName="ATypographyParagraph";de.inheritAttrs=!1;de.props=Pn();const In=()=>u(u({},te(re(),["component"])),{ellipsis:{type:[Boolean,Object],default:void 0}}),ne=(e,n)=>{let{slots:o,attrs:t}=n;const{ellipsis:l}=e,i=u(u(u({},e),{ellipsis:l&&typeof l=="object"?te(l,["expandable","rows"]):l,component:"span"}),t);return c(se,i,o)};ne.displayName="ATypographyText";ne.inheritAttrs=!1;ne.props=In();var Bn=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)n.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(o[t[l]]=e[t[l]]);return o};const Dn=Mt(1,2,3,4,5),Nn=()=>u(u({},te(re(),["component","strong"])),{level:Number}),ue=(e,n)=>{let{slots:o,attrs:t}=n;const{level:l=1}=e,i=Bn(e,["level"]);let r;Dn.includes(l)?r=`h${l}`:r="h1";const a=u(u(u({},i),{component:r}),t);return c(se,a,o)};ue.displayName="ATypographyTitle";ue.inheritAttrs=!1;ue.props=Nn();L.Text=ne;L.Title=ue;L.Paragraph=de;L.Link=ce;L.Base=se;L.install=function(e){return e.component(L.name,L),e.component(L.Text.displayName,ne),e.component(L.Title.displayName,ue),e.component(L.Paragraph.displayName,de),e.component(L.Link.displayName,ce),e};const An={class:"audit-container"},zn={class:"ellipsis-cell"},Rn={key:0},jn=["onClick"],Hn=["src"],Ln={__name:"AuditLog",setup(e){const n=R(""),o=R([]),t=R(!1),l=R(!1),i=R(!1),r=R(!1),a=R([]),g=R(null),C=R(0),d=R(!1),$=R(""),h=R({pageSize:10,total:0,current:1,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],showQuickJumper:!0,showTotal:v=>`共 ${v} 条记录`}),I=[{title:"内容",dataIndex:"content",key:"content",ellipsis:!0,width:300},{title:"用户ID",dataIndex:"user_id",key:"user_id",width:100},{title:"来源",dataIndex:"source",key:"source",width:100},{title:"系统判断",dataIndex:"systemJudgment",key:"systemJudgment",width:100},{title:"原因",dataIndex:"reason",key:"reason",ellipsis:!0,width:150},{title:"时间",dataIndex:"time",key:"time",width:180},{title:"操作",key:"action",width:150,fixed:"right"}],O=v=>!v.startsWith("data:image/"),D=v=>({Pass:"green",Review:"orange",Block:"red"})[v]||"blue",z=v=>{$.value=v,d.value=!0},N=async(v=1,f=h.value.pageSize)=>{var _,T;t.value=!0;try{const J=(v-1)*f,oe={search:n.value||void 0,limit:f,offset:J},W=await we.get("/api/audit-logs",{params:oe});if(W.data&&Array.isArray(W.data.logs))o.value=W.data.logs,C.value=W.data.total||0,h.value.total=C.value,h.value.current=v,h.value.pageSize=f;else throw new Error("返回数据格式不正确")}catch(J){le.error(`获取日志失败: ${((T=(_=J.response)==null?void 0:_.data)==null?void 0:T.message)||J.message||"未知错误"}`),o.value=[],C.value=0,h.value.total=0}finally{t.value=!1}},b=async()=>{l.value=!0;try{await N(1)}finally{l.value=!1}},m=v=>{const f=v.current,_=v.pageSize;N(f,_)},S=()=>{N(h.value.current)},x=v=>{g.value=v,a.value=[],i.value=!0},A=async()=>{var v,f;if(a.value.length!==0){r.value=!0;try{const _=await we.post(`/api/audit-logs/${g.value.id}/dispose`,{actions:a.value});if(_.data.success)le.success(`已对消息 ${g.value.id} 执行${a.value.join("、")}操作`),i.value=!1,N(h.value.current);else throw new Error(_.data.message||"处置操作失败")}catch(_){le.error(`处置操作失败: ${((f=(v=_.response)==null?void 0:v.data)==null?void 0:f.message)||_.message||"未知错误"}`)}finally{r.value=!1}}},F=async v=>{var f,_;try{const T=await we.post(`/api/audit-logs/${v.id}/ignore`);if(T.data.success)le.success(`已忽略消息 ${v.id}`),N(h.value.current);else throw new Error(T.data.message||"忽略操作失败")}catch(T){le.error(`忽略操作失败: ${((_=(f=T.response)==null?void 0:f.data)==null?void 0:_.message)||T.message||"未知错误"}`)}};return be(()=>{N()}),(v,f)=>{const _=$t,T=Ft,J=vt,oe=Wt,W=he,s=ie,p=xt,y=ne,k=wt,B=Vt,U=Ut,X=_t,V=ht;return G(),_e("div",An,[c(J,{style:{"margin-bottom":"16px"}},{default:P(()=>[c(_,{value:n.value,"onUpdate:value":f[0]||(f[0]=w=>n.value=w),placeholder:"搜索内容",style:{width:"200px"},onSearch:b,loading:l.value},null,8,["value","loading"]),c(T,{onClick:S},{icon:P(()=>[c(yt(St))]),_:1})]),_:1}),c(p,{columns:I,"data-source":o.value,pagination:h.value,loading:t.value,"row-key":"id",onChange:m,scroll:{x:1e3,y:500}},{emptyText:P(()=>[t.value?je("",!0):(G(),ge(oe,{key:0,description:"暂无数据"},{description:P(()=>[me("span",null,ye(o.value.length===0?"今天没有待处理的事务呢":"没有匹配的数据"),1)]),_:1}))]),bodyCell:P(({column:w,record:E})=>[w.key==="content"?(G(),ge(W,{key:0,title:O(E.content)?E.content:"点击查看图片",placement:"topLeft"},{default:P(()=>[me("div",zn,[O(E.content)?(G(),_e("span",Rn,ye(E.content),1)):(G(),_e("a",{key:1,onClick:K=>z(E.content)},"[点击查看图片]",8,jn))])]),_:2},1032,["title"])):w.key==="systemJudgment"?(G(),ge(s,{key:1,color:D(E.systemJudgment)},{default:P(()=>[q(ye(E.systemJudgment),1)]),_:2},1032,["color"])):w.key==="action"?(G(),ge(J,{key:2},{default:P(()=>[c(T,{type:"primary",size:"small",onClick:K=>x(E)},{default:P(()=>f[4]||(f[4]=[q("处置")])),_:2},1032,["onClick"]),c(T,{size:"small",onClick:K=>F(E)},{default:P(()=>f[5]||(f[5]=[q("忽略")])),_:2},1032,["onClick"])]),_:2},1024)):je("",!0)]),_:1},8,["data-source","pagination","loading"]),c(V,{open:i.value,"onUpdate:open":f[2]||(f[2]=w=>i.value=w),title:"处置操作",onOk:A,"ok-button-props":{disabled:a.value.length===0},"confirm-loading":r.value},{default:P(()=>[me("p",null,[f[6]||(f[6]=q(" 对消息：")),c(y,{strong:""},{default:P(()=>{var w;return[q(ye((w=g.value)==null?void 0:w.id),1)]}),_:1}),f[7]||(f[7]=q(" 进行处置 "))]),c(X,{value:a.value,"onUpdate:value":f[1]||(f[1]=w=>a.value=w)},{default:P(()=>[c(U,null,{default:P(()=>[c(B,{span:24},{default:P(()=>{var w,E;return[c(W,{title:(E=(w=g.value)==null?void 0:w.source)!=null&&E.includes("aiocqhttp")?"":"操作仅在aiocqhttp平台可用"},{default:P(()=>{var K,j;return[c(k,{value:"dispose",disabled:!((j=(K=g.value)==null?void 0:K.source)!=null&&j.includes("aiocqhttp"))},{default:P(()=>f[8]||(f[8]=[q(" 处置 ")])),_:1},8,["disabled"])]}),_:1},8,["title"])]}),_:1}),c(B,{span:24},{default:P(()=>[c(k,{value:"block"},{default:P(()=>f[9]||(f[9]=[q("拉黑")])),_:1})]),_:1})]),_:1})]),_:1},8,["value"])]),_:1},8,["open","ok-button-props","confirm-loading"]),c(V,{open:d.value,"onUpdate:open":f[3]||(f[3]=w=>d.value=w),title:"查看图片",footer:null,width:800},{default:P(()=>[me("img",{src:$.value,style:{width:"100%",height:"auto"}},null,8,Hn)]),_:1},8,["open"])])}}},Jn=mt(Ln,[["__scopeId","data-v-d65e58ee"]]);export{Jn as default};
